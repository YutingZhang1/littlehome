# LittleHome 2.0 - 情侣互动小程序 🏠💕

## 📱 项目简介

LittleHome 2.0 是一个专为情侣设计的温馨互动小程序，致力于为情侣提供有趣、温暖的互动体验。通过虚拟小家、AI聊天、情感分析等功能，让每一对情侣都能在这里找到属于自己的温馨空间。

## ✨ 主要功能

### 🏠 虚拟小家
- **互动家居**：空调、冰箱、风扇、沙发等可交互家具
- **特效动画**：丰富的视觉特效和动画效果
- **个性化装饰**：支持自定义小家风格

### 🐭 智能鼠鼠
- **11种动作**：眨眼、跳舞、开心、爱心、跳跃、睡觉、玩手机、伤心、走路、眨眼等
- **智能待机**：15秒无交互后自动执行随机动作，增加生命力
- **点击互动**：点击鼠鼠触发随机动作，提升互动性

### 💬 AI情感聊天
- **智能倾听**：基于DeepSeek AI的情感倾听者
- **温暖回复**：温柔贴心的情感支持和理解
- **情感分析**：智能生成情感复盘报告
- **个性化建议**：基于对话内容的情感建议

### 💝 情侣功能
- **纪念日管理**：重要日期的记录和倒计时显示
- **情侣绑定**：安全的情侣关系管理系统
- **绑定码分享**：便捷的情侣配对方式

### 🎁 活动定制
- **礼物推荐**：基于用户画像的个性化礼物建议
- **活动建议**：智能推荐适合情侣的活动
- **定制化服务**：根据偏好定制专属建议

### 📚 其他功能
- **云笔记**：云端存储的笔记功能
- **日常记录**：记录生活中的美好瞬间
- **纪念品收藏**：收藏珍贵的回忆物品

## 🛠️ 技术架构

### 前端技术
- **框架**：微信小程序原生开发
- **样式**：WXSS + 自定义样式系统
- **状态管理**：小程序原生数据绑定
- **动画**：CSS3动画 + JavaScript动画

### 后端服务
- **微信云开发**：数据库、文件存储、云函数
- **外接云函数**：腾讯云SCF，用于API密钥管理等核心业务
- **数据库**：MySQL数据库存储用户数据、API密钥等
- **文件存储**：腾讯云COS存储图片、头像等资源

### AI服务
- **DeepSeek API**：智能对话和情感分析
- **自然语言处理**：情感状态识别和分析
- **个性化推荐**：基于用户行为的智能建议

### 安全特性
- **API密钥管理**：云端安全存储，避免前端暴露
- **用户认证**：微信OpenID认证系统
- **数据加密**：敏感数据加密存储

## 🚀 快速开始

### 环境要求
- 微信开发者工具
- Node.js 14.0+
- 微信小程序账号

### 安装步骤
1. 克隆项目到本地
```bash
git clone [项目地址]
cd littlehome2.0
```

2. 在微信开发者工具中打开项目
3. 配置云开发环境
4. 上传云函数
5. 配置外接云函数地址

### 配置说明
1. **云开发配置**：在`envList.js`中配置云环境ID
2. **外接云函数**：配置云函数访问地址和密钥
3. **DeepSeek API**：在云端配置API密钥

## 📁 项目结构

```
littlehome2.0/
├── miniprogram/                 # 小程序前端代码
│   ├── pages/                   # 页面文件
│   │   ├── index/              # 首页（虚拟小家、聊天）
│   │   ├── activity_customization/  # 活动定制
│   │   ├── butler/             # 管家页面
│   │   ├── souvenirs/          # 纪念品
│   │   ├── notes-cloud/        # 云笔记
│   │   └── daily-record/       # 日常记录
│   ├── components/              # 公共组件
│   ├── images/                  # 图片资源
│   ├── app.js                   # 应用入口
│   ├── app.json                 # 应用配置
│   └── app.wxss                 # 全局样式
├── cloudfunctions/              # 云函数
│   └── quickstartFunctions/     # 基础云函数
├── 项目配置文件
└── 修复总结文档
```

## 🔧 核心功能实现

### 虚拟小家系统
- 使用Canvas绘制特效动画
- 支持多种交互方式
- 响应式布局设计

### AI聊天系统
- 基于DeepSeek的智能对话
- 情感状态识别和分析
- 个性化回复生成

### 情侣绑定系统
- 安全的绑定码生成
- 实时状态同步
- 数据持久化存储

## 📊 项目特色

### 🎯 用户体验
- **直观的交互设计**：简单易用的操作界面
- **丰富的动画效果**：提升视觉体验
- **智能的AI助手**：温暖贴心的情感支持

### 🔒 安全可靠
- **云端密钥管理**：避免敏感信息泄露
- **数据加密存储**：保护用户隐私
- **权限控制**：严格的访问控制机制

### 🚀 性能优化
- **图片懒加载**：提升页面加载速度
- **状态管理优化**：减少不必要的重渲染
- **缓存机制**：优化用户体验

## 🐛 已知问题与解决方案

### 已修复的问题
- ✅ API密钥硬编码问题：已实现云端密钥管理
- ✅ JSON解析错误：已优化AI回复解析逻辑
- ✅ 聊天界面显示问题：已修复消息渲染逻辑
- ✅ 情感报告生成时机：已优化生成逻辑

### 待优化项目
- ⚠️ 错误处理机制：需要完善网络请求失败处理
- ⚠️ 加载状态管理：需要优化用户体验
- ⚠️ 代码复用：需要提取公共组件和样式

## 📈 开发计划

### 近期目标（1-2周）
- [ ] 完善错误处理机制
- [ ] 优化加载状态管理
- [ ] 提取公共组件

### 中期目标（1个月）
- [ ] 实现照片墙功能
- [ ] 添加心情日记
- [ ] 优化AI聊天体验

### 长期目标（3个月）
- [ ] 开发情侣互动游戏
- [ ] 实现智能提醒系统
- [ ] 完善数据分析功能

## 🤝 贡献指南

欢迎提交Issue和Pull Request来帮助改进项目！

### 提交规范
- 使用清晰的提交信息
- 遵循代码风格规范
- 添加必要的测试用例

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 📞 联系我们

- 项目地址：[GitHub地址]
- 问题反馈：[Issues页面]
- 邮箱：[联系邮箱]

---

## 🌟 致谢

感谢所有为这个项目做出贡献的开发者和用户！

---

*LittleHome 2.0 - 让每一对情侣都能找到属于自己的温馨空间* 🏠💕

